# Реферальная система

Здесь описан функционал api запросов для реферальной системы

## Необходимые библиотеки 

Django==4.2.4<br>
djangorestframework==3.14.0


## Api запросы

### Авторизация по номеру телефона

Данный запрос принимает JSON с номером телефона пользователя и генерируют 4 значный ключ для авторизации.

Пример запроса: <br>
Метод: POST <br>
URL: {{base_url}}/api/get_data/ <br>
Тело запроса:
```json
{
    "PhoneNumber":"79996663322"
}
```

### Создание пользователя

Данный запрос принимает JSON с номером телефона пользователя проверяет на уникальность и генерируют 6 значный реферальный код и создает нового пользователя.

Пример запроса: <br>
Метод: POST <br>
URL: {{base_url}}/api/referral/create <br>
Тело запроса:
```json
{
    "PhoneNumber":"79996663322"
}
```

### Добавление инвайт-кода

Данный запрос принимает в качестве индификатора пользователя номер телефона  и JSON с реферальным кодом. Проверяет на наличие этого кода и есть ли у пользователя уже введеный код.

Пример запроса: <br>
Метод: PATCH <br>
URL: {{base_url}}/api/referral/patch/{{phone_number}}/ <br>
Тело запроса:
```json
{
    "ReferralCode":"BPSLFJ"
}
```

### Получение списка приглашенных пользователей
Данный запрос принимает в качестве индификатора пользователя номер телефона. И в качестве ответа отправляет JSON список номеров.

Пример запроса: <br>
Метод: GET <br>
URL: {{base_url}}/api/referral/list/{{phone_number}}/ <br>
Тело ответа:
```json
[
    {
        "PhoneNumber": "79996663322"
    },
    {
        "PhoneNumber": "79996663323"
    }
]
```
